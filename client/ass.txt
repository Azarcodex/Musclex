import { create } from "zustand";

export const useAuthStore = create((set, get) => ({
  // token will load from localStorage (if exists)
  token: localStorage.getItem("token") || null,

  // ✅ Save token in Zustand + localStorage
  setToken: (token) => {
    localStorage.setItem("token", token);
    set({ token });
  },

  // ✅ Get token from Zustand (or localStorage if refreshed)
  getToken: () => {
    const token = get().token || localStorage.getItem("token");
    return token;
  },

  // ✅ Remove token from both (logout)
  clearToken: () => {
    localStorage.removeItem("token");
    set({ token: null });
  },
}));
